import{b as P}from"./chunk-CZPIWWV6.js";import{Ab as I,Bb as F,Fa as l,Fb as O,Ga as g,I as h,O as v,Ob as x,P as b,Rb as E,Sb as f,Tb as N,Ub as j,Vb as L,Wb as q,Xb as D,Ya as S,Yb as T,Zb as U,_b as A,ca as i,cb as M,da as s,ka as c,ma as a,nc as R,qa as n,ra as r,sa as p,vb as y,xa as C,xb as w,za as _}from"./chunk-25PIQWJN.js";import"./chunk-P2VZOJAX.js";function z(t,G){t&1&&(n(0,"small",12),l(1," Username is required "),r())}function H(t,G){t&1&&(n(0,"small",12),l(1," Password is required "),r())}var k=(()=>{class t{fb;authService;router;route;messageService;i18n;loginForm;loading=!1;returnUrl="";constructor(u,o,e,m,d,B){this.fb=u,this.authService=o,this.router=e,this.route=m,this.messageService=d,this.i18n=B}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/dashboard",this.authService.isAuthenticated()&&this.router.navigate([this.returnUrl]),this.loginForm=this.fb.group({username:["",f.required],password:["",f.required]})}onSubmit(){this.loginForm.valid&&(this.loading=!0,this.authService.login(this.loginForm.value).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Success",detail:"Login successful"}),this.router.navigate([this.returnUrl])},error:u=>{this.messageService.add({severity:"error",summary:"Error",detail:"Login failed. Please check your credentials."}),this.loading=!1}}))}static \u0275fac=function(o){return new(o||t)(s(T),s(P),s(w),s(y),s(O),s(F))};static \u0275cmp=v({type:t,selectors:[["app-login"]],decls:22,vars:11,consts:[[1,"login-container",3,"dir"],[1,"login-card"],[1,"login-header"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","username"],["pInputText","","id","username","formControlName","username",1,"w-full",3,"placeholder"],["class","p-error",4,"ngIf"],["for","password"],["pInputText","","type","password","id","password","formControlName","password",1,"w-full",3,"placeholder"],["pButton","","type","submit",1,"w-full",3,"label","disabled"],[1,"login-footer"],[1,"p-error"]],template:function(o,e){if(o&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),l(4),r(),n(5,"p"),l(6,"Rental Management Dashboard"),r()(),n(7,"form",3),C("ngSubmit",function(){return e.onSubmit()}),n(8,"div",4)(9,"label",5),l(10),r(),p(11,"input",6),c(12,z,2,0,"small",7),r(),n(13,"div",4)(14,"label",8),l(15),r(),p(16,"input",9),c(17,H,2,0,"small",7),r(),p(18,"button",10),r(),n(19,"div",11)(20,"p"),l(21,"Demo: Use 'admin', 'finance', or 'viewer' as username"),r()()()()),o&2){let m,d;a("dir",e.i18n.getCurrentLanguage()==="ar"?"rtl":"ltr"),i(4),g(e.i18n.translate("auth.welcome")),i(3),a("formGroup",e.loginForm),i(3),g(e.i18n.translate("auth.username")),i(),a("placeholder",e.i18n.translate("auth.username")),i(),a("ngIf",((m=e.loginForm.get("username"))==null?null:m.hasError("required"))&&((m=e.loginForm.get("username"))==null?null:m.touched)),i(3),g(e.i18n.translate("auth.password")),i(),a("placeholder",e.i18n.translate("auth.password")),i(),a("ngIf",((d=e.loginForm.get("password"))==null?null:d.hasError("required"))&&((d=e.loginForm.get("password"))==null?null:d.touched)),i(),_("label",e.i18n.translate("auth.login")),a("disabled",e.loginForm.invalid||e.loading)}},dependencies:[S,L,E,N,j,q,D,x,A],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;width:100%;max-width:400px;box-shadow:0 10px 40px #0000001a}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;margin-bottom:.5rem}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.login-form[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#333;font-weight:500}.login-footer[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;padding-top:1rem;border-top:1px solid #eee}.login-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#999;font-size:.85rem}.w-full[_ngcontent-%COMP%]{width:100%}"]})}return t})();var le=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=b({type:t});static \u0275inj=h({imports:[M,U,R,I.forChild([{path:"",component:k}])]})}return t})();export{le as AuthModule};
