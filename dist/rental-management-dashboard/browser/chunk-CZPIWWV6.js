import{H as u,K as i,a as s,c as a,eb as c}from"./chunk-25PIQWJN.js";var r={production:!1,apiUrl:"https://galalshaaban99-001-site1.anytempurl.com/api",jwtTokenKey:"rental_dashboard_token",userKey:"rental_dashboard_user"};var S=(()=>{class o{http;currentUserSubject=new a(this.getStoredUser());currentUser$=this.currentUserSubject.asObservable();constructor(e){this.http=e}login(e){return new s(t=>{let n={user:{id:"1",username:e.username,email:`${e.username}@example.com`,role:e.username==="admin"?"Admin":e.username==="finance"?"Finance":"Viewer",token:"mock-jwt-token-"+Date.now()},token:"mock-jwt-token-"+Date.now()};setTimeout(()=>{this.setUser(n.user,n.token),t.next(n),t.complete()},500)})}logout(){localStorage.removeItem(r.jwtTokenKey),localStorage.removeItem(r.userKey),this.currentUserSubject.next(null)}getToken(){return localStorage.getItem(r.jwtTokenKey)}getCurrentUser(){return this.currentUserSubject.value}isAuthenticated(){return!!this.getToken()}hasRole(e){return this.getCurrentUser()?.role===e}setUser(e,t){localStorage.setItem(r.jwtTokenKey,t),localStorage.setItem(r.userKey,JSON.stringify(e)),this.currentUserSubject.next(e)}getStoredUser(){let e=localStorage.getItem(r.userKey);return e?JSON.parse(e):null}static \u0275fac=function(t){return new(t||o)(i(c))};static \u0275prov=u({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();export{r as a,S as b};
